[{"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\index.js":"1","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\App.js":"2","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\reportWebVitals.js":"3","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\nav\\Navigation.js":"4","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\assets\\canvasjs.react.js":"5","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\assets\\canvasjs.min.js":"6","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Panel\\UsersList.js":"7","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Panel\\UserListItem.js":"8","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\Pages\\ControlPanel.js":"9","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\Pages\\Details.js":"10","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Details\\UserComponent.js":"11","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\UIElements\\LoadingSpinner.js":"12","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\hooks\\http-hook.js":"13"},{"size":563,"mtime":1616406281313,"results":"14","hashOfConfig":"15"},{"size":593,"mtime":1616406281286,"results":"16","hashOfConfig":"15"},{"size":375,"mtime":1616406281314,"results":"17","hashOfConfig":"15"},{"size":768,"mtime":1616590612785,"results":"18","hashOfConfig":"15"},{"size":2077,"mtime":1616406281302,"results":"19","hashOfConfig":"15"},{"size":481317,"mtime":1616406281301,"results":"20","hashOfConfig":"15"},{"size":301,"mtime":1616406281309,"results":"21","hashOfConfig":"15"},{"size":787,"mtime":1616406281306,"results":"22","hashOfConfig":"15"},{"size":1809,"mtime":1619680920821,"results":"23","hashOfConfig":"15"},{"size":3407,"mtime":1619699555975,"results":"24","hashOfConfig":"15"},{"size":1939,"mtime":1619681106084,"results":"25","hashOfConfig":"15"},{"size":286,"mtime":1616574648209,"results":"26","hashOfConfig":"15"},{"size":2339,"mtime":1619678912409,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"q8s156",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\index.js",[],["57","58"],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\App.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\reportWebVitals.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\nav\\Navigation.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\assets\\canvasjs.react.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\assets\\canvasjs.min.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Panel\\UsersList.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Panel\\UserListItem.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\Pages\\ControlPanel.js",["59","60"],"import React, { useState, useEffect } from 'react';\r\nimport UsersList from '../components/Panel/UsersList';\r\nimport { Container, Col, Row } from 'react-bootstrap';\r\nimport CanvasJSReact from '../assets/canvasjs.react';\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport LoadingSpinner from '../UIElements/LoadingSpinner';\r\n\r\nconst ControlPanel = (props) => {\r\n\tconst [users, setUsers] = useState();\r\n\tconst [options, setOptions] = useState();\r\n\tconst { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\tuseEffect(() => {\r\n\t\tconst fetchUsers = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + '/organisation');\r\n\t\t\t\tsetUsers(responseData.users);\r\n\t\t\t\tconst okCount = responseData.users.filter((x) => x.level < 10 && !x.suspicious).length;\r\n\t\t\t\tconsole.log(users);\r\n\t\t\t\tsetOptions({\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttext: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'pie',\r\n\t\t\t\t\t\t\tdataPoints: [\r\n\t\t\t\t\t\t\t\t{ label: 'OK', y: okCount },\r\n\t\t\t\t\t\t\t\t{ label: 'Intervention Required', y: responseData.users.length - okCount },\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t});\r\n\t\t\t} catch (err) {}\r\n\t\t};\r\n\t\tfetchUsers();\r\n\t}, [sendRequest]);\r\n\t// var CanvasJS = CanvasJSReact.CanvasJS;\r\n\r\n\tvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isLoading && (\r\n\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t<LoadingSpinner />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t<h1>Users not found</h1>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{users && users.length > 0 && options && (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t<CanvasJSChart  options={options} />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<UsersList users={users} />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t)}\r\n\t\t\t\r\n\t\t</>\r\n\t);\r\n};\r\nexport default ControlPanel;\r\n","C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\Pages\\Details.js",["61"],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\components\\Details\\UserComponent.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\UIElements\\LoadingSpinner.js",[],"C:\\Users\\sorek\\coding\\react\\organization_risk_s\\src\\hooks\\http-hook.js",["62"],"import { useState, useRef, useCallback, useEffect } from \"react\";\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n      try {\r\n        const response = await fetch(url, {\r\n          // mode: \"no-cors\",\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = await response.json();\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw error;\r\n      }\r\n    },\r\n    [error]\r\n  );\r\n  const sendPostRequest = useCallback(\r\n    async (url, method = \"Post\", body, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n      try {\r\n        const response = await fetch(url, {\r\n          // mode: \"no-cors\",\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = await response.json();\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw error;\r\n      }\r\n    },\r\n    [error]\r\n  );\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  useEffect(() => {\r\n    return () => {\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n",{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":11,"column":41,"nodeType":"69","messageId":"70","endLine":11,"endColumn":51},{"ruleId":"71","severity":1,"message":"72","line":36,"column":5,"nodeType":"73","endLine":36,"endColumn":18,"suggestions":"74"},{"ruleId":"67","severity":1,"message":"68","line":13,"column":42,"nodeType":"69","messageId":"70","endLine":13,"endColumn":52},{"ruleId":"67","severity":1,"message":"75","line":40,"column":9,"nodeType":"69","messageId":"70","endLine":40,"endColumn":24},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"no-unused-vars","'clearError' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array.","ArrayExpression",["78"],"'sendPostRequest' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"79","fix":"80"},"Update the dependencies array to be: [sendRequest, users]",{"range":"81","text":"82"},[1179,1192],"[sendRequest, users]"]